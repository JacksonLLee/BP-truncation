# Modeling truncation in Brazilian Portuguese

By [Mike Pham](http://www.mikettpham.com/) and [Jackson Lee](http://jacksonllee.com/)

A full paper is currently being prepared,
which is a substantically expanded and revised version of the brief write-up
as a
[technical report (TR-2014-15, UChicago Computer Science)](https://newtraell.cs.uchicago.edu/research/publications/techreports/TR-2014-15).

## Contents

- ``main.py``: Python script for running the different truncation models over the data files in the ``data/`` folder

- ``data/``:

    * ``pt_br_orthofix*``: Brazilian Portuguese lexicon (two versions)
    * gold standard nouns with attested truncation (available in various formats for different annotations regarding binary foot model predictions)

- ``plots_words/``: directory for output plots for individual words for log(left-complete counts) and log(right-complete counts)

- ``plots_errors/``: directory for output plots of error distributions

- ``outlatex*``: sameple output LaTeX files

- ``output*``: sample CSV output file

- ``plots*``: sample output R scripts

- ``readme.md``: this readme file

## Requirements

Python 2.7, 3.4, or 3.5 is required.

[NumPy](http://www.numpy.org/) and [SciPy](http://www.scipy.org/)
are required to run ``main.py``.
A great Python distribution that comes with these two packages (and many others)
is [Anaconda](https://www.continuum.io/downloads).

The following commands are assumed to be recognized in the path;
they are triggered within ``main.py``:

- ``xelatex``: for compiling LaTeX output files; available when, for instance,
  ``texlive-full`` is installed
- ``Rscript``: for making plots; available when R is installed

## Download

Download this repository to your local drive by one of these two methods:

* Download and unzip https://github.com/JacksonLLee/BP-truncation/archive/master.zip

* Clone this repository:

    ```
    $ git clone https://github.com/JacksonLLee/BP-truncation.git
    $ cd BP-truncation
    ```

## Usage

Run the truncation models for the accompanying datasets:

    $ python main.py

``main.py`` can take optional arguments for determining which orthography to use,
 whether to include technical terms, and how to treat the suffix *-a*.
 The argument ``-h`` brings up the help page with details of these arguments:

```
$ python main.py -h
usage: main.py [-h] [-t] [-a] [-c]

Modeling truncation in Brazilian Portuguese, by Mike Pham and Jackson Lee

optional arguments:
  -h, --help           show this help message and exit
  -t, --tech           Include technical terms (default: False)
  -a, --a_as_TS        Treat -a in truncated form as part of truncated stem
                       (default: False)
  -c, --c_orthography  Use the c-orthography (less phonetic) instead of the
                       k-orthography (more phonetic) (default: False)
```

The sample output files included in this repository are generated by the default settings as described in the help page shown above, i.e., by simply running ``python main.py`` with no arguments given.
If, for instance, you'd like to use the c-orthography instead of the default
k-orthography, you should run ``python main.py -c``.
To use both c-orthography and technical terms, run ``python main.py -tc``.

## Output files

Once this Python script is run,
output files ``outlatex*`` (LaTeX output), ``output*`` (CSV output), and ``plots*`` (R scripts) are generated at the same directory. In addition, output plots of interest are in the subdirectories ``plots_words/`` and ``plots_errors/``.

*LaTeX and R outputs:*

The generated ``.tex`` will be compiled and the ``.R`` file will be run by R.
If you are on Windows or if for other reasons the commands ``xelatex`` and ``Rscript``
are unavailable, then ``.tex`` and ``.R`` can be run by other non-command line means of your choice.

